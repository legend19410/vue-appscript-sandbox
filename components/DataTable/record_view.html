<template>
  <v-dialog v-model="viewDialog" max-width="900">
      <v-card>
        <v-card-title class="text-h5">Detail</v-card-title>
        <table style="
            width: 98%;
            border-collapse: collapse;
            margin: 10px;
            padding: 20px;
            background-color: #f9f9f9;
          ">
          <tr style="border-bottom: 1px solid #ddd" v-for="fld in schema" :key="fld.key">
            <td style="
                padding: 10px;
                border: 1px solid #ddd;
                text-align: left;
                width: 30%;
              ">
              {{fld.label}}
            </td>
            <td style="
                padding: 10px;
                border: 1px solid #ddd;
                text-align: left;
                width: 70%;
              ">
                  <?!= include('components/DataTable/record_view_values'); ?>
            </td>
          </tr>
          <tr style="border-bottom: 1px solid #ddd" v-if="editedItem['history']">
            <td style="
                padding: 10px;
                border: 1px solid #ddd;
                text-align: left;
                width: 30%;
              ">
              Edit History
            </td>
            <td style="
                padding: 10px;
                border: 1px solid #ddd;
                text-align: left;
                width: 70%;
              ">
              <v-timeline side="end">
                <v-timeline-item class="mb-4" dot-color="green" size="small"
                  v-for="(o,i) in JSON.parse(editedItem['history'])" :key="i">{{o}}
                </v-timeline-item>
              </v-timeline>
            </td>
          </tr>
        </table>
      </v-card>
    </v-dialog>
</template>
